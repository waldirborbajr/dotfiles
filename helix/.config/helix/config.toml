theme = "catppuccin_frappe"

[editor]
line-number = "relative"
mouse = false
color-modes = true
cursorline = true
true-color = true
bufferline = "multiple"
completion-timeout = 15
auto-completion = true
auto-format = true          # Novo: formata automaticamente ao salvar (se LSP suportar)
auto-info = true
idle-timeout = 50           # Mais responsivo para LSP/inlay hints
text-width = 99
rulers = [100]              # Novo: linha vertical em 100 colunas (ajuste se preferir 80/120)
gutters = ["diff", "diagnostics", "line-numbers", "spacer"]
end-of-line-diagnostics = "hint"

[editor.inline-diagnostics]
cursor-line = "error"
other-lines = "warning"     # Melhor: mostra warnings/hints em outras linhas também

[editor.cursor-shape]
normal = "block"            # Adicionado: mais comum e visível
insert = "bar"
select = "underline"

[editor.statusline]
mode.normal = "NOR"
mode.insert = "INS"
mode.select = "SEL"
left = ["mode", "spinner", "version-control", "spacer"]
separator = "│"
center = ["file-base-name", "read-only-indicator", "file-modification-indicator"]
right = ["diagnostics", "primary-selection-length", "selections", "register", "position", "total-line-numbers", "file-encoding", "file-type"]

[editor.lsp]
enable = true
auto-signature-help = false
display-messages = true
display-inlay-hints = true  # Novo: ativa inlay hints por default (pode toggle com space l)

[editor.soft-wrap]
enable = true
max-wrap = 100              # Melhor que 25: evita quebras excessivas no meio de palavras
max-indent-retain = 0
wrap-indicator = ""         # Esconde o indicador de wrap

[editor.file-picker]
hidden = false
ignore = true               # Recomendado: respeita .ignore
git-ignore = true           # Recomendado: respeita .gitignore (picker mais limpo)
git-global = true
git-exclude = true

[editor.indent-guides]
render = true

[keys.normal]
"%" = "match_brackets"
"*" = ["move_char_right", "move_prev_word_start", "move_next_word_end", "search_selection", "search_next"]
"#" = ["move_char_right", "move_prev_word_start", "move_next_word_end", "search_selection", "search_prev"]
"$" = "goto_line_end"
0 = "goto_line_start"
G = "goto_file_end"

# lazygit
C-g = [":new", ":insert-output lazygit", ":buffer-close!", ":redraw", ":rla"]

# yazi (mantido como estava)
C-y = [
  ':sh rm -f /tmp/unique-file',
  ':insert-output yazi %{buffer_name} --chooser-file=/tmp/unique-file',
  ':insert-output echo "\x1b[?1049h\x1b[?2004h" > /dev/tty',
  ':open %sh{cat /tmp/unique-file}',
  ':redraw',
  ':set mouse false',
  ':set mouse true',
]

[keys.select]
i = "select_textobject_inner"
a = "select_textobject_around"

[keys.normal.space]
l = ":toggle lsp.display-inlay-hints"
